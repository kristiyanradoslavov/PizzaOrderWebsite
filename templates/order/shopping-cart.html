{% extends 'base.html' %}
{% load static %}


{% block main_section %}

    <section class="finish-order">
        <div class="products-wrapper box-fields">
            <h2>Products in the Cart</h2>
            {# START FIRST PRODUCT#}

            {% for key, value in all_products_dict.items %}
                <div class="selected-product">
                    <a href="#">
                        <i class="fa-solid fa-trash-can"></i>
                    </a>
                    <img src='/media/{{ key.image }}' alt="">
                    <div class="product-information">
                        <p>{{ key.product_name }}</p>
                        {% if key.size %}
                            <p>{{ key.size }}</p>
                        {% endif %}
                    </div>

                    <div>
                        <div class="quantity-wrapper">
                            <span class="minus">-</span>
                            <input type="text" name="quantity" value="{{ key.quantity }}" min="1" max="10" step="1"
                                   disabled
                                   class="current-quantity">
                            <span class="plus">+</span>
                            <input type="hidden" value="{{ key.single_price }}" class="single">
                        </div>
                        <p class="cart-product-price product-final-price">
                            Price: {{ value|floatformat:2 }} â‚¬
                        </p>
                    </div>
                </div>

            {% endfor %}

            <div id="total-price">
                Total Price: {{ total_price|floatformat:2 }}
            </div>
        </div>


        <div class="payment-information box-fields">
            <h2>Payment Type</h2>
            <label class="container">Pay with cash
                <input type="radio" class="size-select2" name="radio" value="Small">
                <span class="checkmark"></span>
            </label>

            <label class="container">Pay with Credit Card
                <input type="radio" class="size-select2" name="radio" value="Small">
                <span class="checkmark"></span>
            </label>

        </div>

        <div class="address-information box-fields">
            <h2>Address Information</h2>

            {{ profile_form.first_name.label }}
            {{ profile_form.first_name }}

            {{ profile_form.last_name.label }}
            {{ profile_form.last_name }}

            {{ profile_form.phone_number.label }}
            {{ profile_form.phone_number }}

            {{ profile_form.city }}

            {{ profile_form.address }}
        </div>
    </section>

    <div class="checkout-wrapper">
        <input type="submit" value="Sumbit">
    </div>

{% endblock %}

